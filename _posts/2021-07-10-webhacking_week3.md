---
title:  '3μ£Όμ°¨ μ›Ή ν•΄ν‚Ή- μ›Ή ν•΄ν‚Ή κΈ°μ  νƒμƒ‰ 2'
excerpt: "week3"

categories:
  - study
  - etc
tags: [study, etc, virtualbox, kalilinux, hacking]

last_modified_at: 2021-07-10T08:06:00-05:00
classes: wide
---

### 8μ£Όκ°„μ ν•΄ν‚Ή μ¤ν„°λ”” μ„Έλ²μ§Έ μ‹κ°„

μ΄λ² μ‹κ°„μ—λ” μ‚¬μ΄νΈ κ°„ μ”μ²­ μ„μ΅°λ¥Ό ν†µν•΄ κ³µκ²©ν•λ” κΈ°μ μΈ CSRF κ³µκ²©κ³Ό 
μ£Όλ΅ PHP μ–΄ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ°μƒν•λ” νμΌ μΈν΄λ£¨μ Ό κ³µκ²©(LFI & RFI)μ— λ€ν•΄ ν•™μµν•λ” μ‹κ°„μ„ κ°€μ Έλ³΄λ„λ΅ ν•κ² μµλ‹λ‹¤!π‰

### CSRF κ³µκ²©
Cross Site Request Forgeryμ μ•½μλ΅ **`μ‚¬μ΄νΈ κ°„ μ”μ²­μ„ μ„μ΅°`**λΌκ³  λ³€μ—­ν•  μ μλ‹¤.

ν”Όμ‹±μ„ ν™μ©ν•΄ μ‚¬μ©μκ°€ λ¨λ¥΄κ² ν¨μ¤μ›λ“λ¥Ό λ³€κ²½ν•λ‹¤. 

- CSRF κ³µκ²© ν”„λ΅μ„Έμ¤

μ‚¬μ©μκ°€ μ •μƒμ μΌλ΅ μ‚¬μ΄νΈμ— μ ‘μ†ν•λ” λ™μ• ν•΄μ»¤κ°€ μ–΄λ–¤ κ²ƒμ„ ν΄λ¦­ν•λ„λ΅ ν”Όμ‹±μ„ ν•λ‹¤. λ§μ•½ μ‚¬μ©μκ°€ μ΄κ²ƒμ„ ν΄λ¦­ν•λ©΄ ν΄λ¦­ν• μ‹μ μ— 
ν•΄μ»¤κ°€ μ§€μ •ν• ν¨μ¤μ›λ“λ΅ ν¨μ¤μ›λ“κ°€ λ³€κ²½μ΄ λκ³  κ·Έ λ‹¤μλ¶€ν„°λ” λ³€κ²½λ ν¨μ¤μ›λ“λ΅ ν•΄μ»¤κ°€ μ ‘μ†ν•λ” κ³µκ²©μ΄λ‹¤.

![image](https://user-images.githubusercontent.com/53431568/125088930-dd141180-e108-11eb-8a86-f8d8c3d3be7b.png)

CSRFμ ν•„μμ΅°κ±΄μ€ μ‚¬μ©μκ°€ ν•΄μ»¤κ°€ μ„¤μΉν• λ§ν¬λ¥Ό ν΄λ¦­ν• μ‹μ μ— λ΅κ·ΈμΈμ΄ λμ–΄μμ–΄μ•Ό ν•λ” κ²ƒμ΄λ‹¤. 

λ”°λΌμ„ μ΄λ©”μΌμ΄λ‚ νΉμ • κ²μ‹νμ—μ„ μ‹ μ©ν•  μ μ—†λ” μ‚¬λμ΄ λ³΄λ‚Έ λ§ν¬λ¥Ό ν΄λ¦­ν•κ±°λ‚ λ¨λ¥΄λ” κ²μ‹νμ„ λ°©λ¬Έν•  λ• μ£Όμν•λ” μµκ΄€μ„ κ°€μ§€μ! π‘


### νμΌμΈν΄λ£¨μ Ό κ³µκ²© 

νμΌ μΈν΄λ£¨μ Ό κ³µκ²©μ€ μ£Όλ΅ php μ–΄ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ°μƒν•λ‹¤. κ·Έ μ΄μ λ” π‘‰ **PHPλ” include()λΌλ” ν•¨μλ¥Ό μ΄μ©ν•΄ λ‹¤λ¥Έ νμΌμ— μ†μ¤μ½”λ“λ¥Ό μ§μ ‘ ν¬ν•¨μ‹ν‚¬ μ μκΈ° λ•λ¬Έμ΄λ‹¤.**

μ΄λ•, include()ν•  νμΌμ„ μ›Ή μ”μ²­μ„ ν†µν•΄ μ§€μ •ν•  μ μλ” κ²½μ°μ— ν•΄μ»¤κ°€ κ·Έ κ°’μ„ μ΅°μ‘ν•μ—¬ μ›ν•λ” νμΌμ„ μ²λ¦¬ν•  μ μλ„λ΅ λ§λ“¤ μ μλ‹¤.

ν¬κ² λ‘κ°€μ§€λ΅ κµ¬λ¶„ν•  μ μλ‹¤.

- λ΅μ»¬νμΌμΈν΄λ£¨μ Ό(LFI) : μ΄λ―Έ μ‹μ¤ν…μ— μ΅΄μ¬ν•λ” νμΌμ„ μΈν΄λ£¨λ“
- λ¦¬λ¨νΈνμΌμΈν΄λ£¨μ Ό(RFI) : μΆ€ λ” κ°•λ ¥ν• κ³µκ²©μ΄λ©° μ™Έλ¶€μ— μλ” νμΌμ€ μ›κ²©μΌλ΅ μΈν΄λ£¨λ“

κ·Έλ¦Όμ„ ν†µν•΄ μ•μ•„λ΄…μ‹λ‹¤ π™‹π»β€β™‚

- μ •μƒμ μΈ μƒν™© μ›Ή μ–΄ν”λ¦¬μΌ€μ΄μ…μ€ file.phpλ¥Ό μΈν΄λ£¨λ“ ν•κ³  μλ‹¤. file.phpκ°€ μ›Ή μ”μ²­μ„ ν†µν•΄ μ§€μ •λκ³  μλ‹¤.

![image](https://user-images.githubusercontent.com/53431568/125090056-e81b7180-e109-11eb-80c7-990ffceb70b8.png)


μ΄λ• ν•΄μ»¤λ” file.php λ€μ‹  hacker.com μ΄λΌλ” λ‹¤λ¥Έ μ„λ²„λ¥Ό κµ¬μ¶•ν•΄ bad.phpλ¥Ό includeν•  κ²ƒμ„ μ”μ²­ν•λ‹¤. λ§μ•½ μ›Ή μ–΄ν”λ¦¬μΌ€μ΄μ…μ΄ μ…λ ¥κ°’μ„ λ”°λ΅ κ²€μ‚¬ν•μ§€ 
μ•λ”λ‹¤λ©΄, hacker.comμΌλ΅λ¶€ν„° bad.phpλ¥Ό μΈν΄λ£¨λ“ ν•κ² λμ–΄ bad.phpλΌλ” μ•…μ„±νμΌμ„ μ‹¤ν–‰ν•κ² λλ‹¤.

![image](https://user-images.githubusercontent.com/53431568/125090560-6d068b00-e10a-11eb-98c6-bbc23111d1e6.png)
