---
title:  '3주차 웹 해킹- 웹 해킹 기술 탐색 2'
excerpt: "week3"

categories:
  - study
  - etc
tags: [study, etc, virtualbox, kalilinux, hacking]

last_modified_at: 2021-07-10T08:06:00-05:00
classes: wide
---

### 8주간의 해킹 스터디 세번째 시간

이번 시간에는 사이트 간 요청 위조를 통해 공격하는 기술인 CSRF 공격과 
주로 PHP 어플리케이션에서 발생하는 파일 인클루젼 공격(LFI & RFI)에 대해 학습하는 시간을 가져보도록 하겠습니다!😉

### CSRF 공격
Cross Site Request Forgery의 약자로 **`사이트 간 요청을 위조`**라고 변역할 수 있다.

피싱을 활용해 사용자가 모르게 패스워드를 변경한다. 

- CSRF 공격 프로세스

사용자가 정상적으로 사이트에 접속하는 동안 해커가 어떤 것을 클릭하도록 피싱을 한다. 만약 사용자가 이것을 클릭하면 클릭한 시점에 
해커가 지정한 패스워드로 패스워드가 변경이 되고 그 다음부터는 변경된 패스워드로 해커가 접속하는 공격이다.

![image](https://user-images.githubusercontent.com/53431568/125088930-dd141180-e108-11eb-8a86-f8d8c3d3be7b.png)

CSRF의 필수조건은 사용자가 해커가 설치한 링크를 클릭한 시점에 로그인이 되어있어야 하는 것이다. 

따라서 이메일이나 특정 게시판에서 신용할 수 없는 사람이 보낸 링크를 클릭하거나 모르는 게시판을 방문할 때 주의하는 습관을 가지자! 👍


### 파일인클루젼 공격 

파일 인클루젼 공격은 주로 php 어플리케이션에서 발생한다. 그 이유는 👉 **PHP는 include()라는 함수를 이용해 다른 파일에 소스코드를 직접 포함시킬 수 있기 때문이다.**

이때, include()할 파일을 웹 요청을 통해 지정할 수 있는 경우에 해커가 그 값을 조작하여 원하는 파일을 처리할 수 있도록 만들 수 있다.

크게 두가지로 구분할 수 있다.

- 로컬파일인클루젼(LFI) : 이미 시스템에 존재하는 파일을 인클루드
- 리모트파일인클루젼(RFI) : 좀 더 강력한 공격이며 외부에 있는 파일은 원격으로 인클루드

그림을 통해 알아봅시다 🙋🏻‍♂

- 정상적인 상황 웹 어플리케이션은 file.php를 인클루드 하고 있다. file.php가 웹 요청을 통해 지정되고 있다.

![image](https://user-images.githubusercontent.com/53431568/125090056-e81b7180-e109-11eb-80c7-990ffceb70b8.png)


이때 해커는 file.php 대신 hacker.com 이라는 다른 서버를 구축해 bad.php를 include할 것을 요청한다. 만약 웹 어플리케이션이 입력값을 따로 검사하지 
않는다면, hacker.com으로부터 bad.php를 인클루드 하게 되어 bad.php라는 악성파일을 실행하게 된다.

![image](https://user-images.githubusercontent.com/53431568/125090560-6d068b00-e10a-11eb-98c6-bbc23111d1e6.png)
